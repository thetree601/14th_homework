# /secrets/mypage 비밀번호 변경 기능 구현

## 요구사항
/secrets/mypage 페이지에서 사용자가 비밀번호를 변경할 수 있는 기능을 구현합니다.

## 기능 상세

### 1. 비밀번호 변경 섹션
- 마이 페이지에 "비밀번호 변경" 섹션 추가
- 기존 섹션들(나의 비밀, 구독 상태, 포인트 내역)과 동일한 스타일 유지
- 섹션 제목: "비밀번호 변경"
- 섹션 부제목: "계정 보안을 위해 비밀번호를 변경하세요"

### 2. 비밀번호 입력 필드
- 현재 비밀번호 입력 필드 (선택사항 - 필요시)
- 새 비밀번호 입력 필드 (필수)
- 새 비밀번호 확인 입력 필드 (필수)
- 모든 필드는 password 타입으로 마스킹 처리

### 3. 비밀번호 유효성 검사
- 새 비밀번호: 최소 8자 이상
- 새 비밀번호 확인: 새 비밀번호와 일치 여부 확인
- 실시간 유효성 검사 및 에러 메시지 표시

### 4. GraphQL Mutation
- `resetUserPassword` mutation 사용
- Mutation 시그니처: `resetUserPassword(password: String!): Boolean!`
- 성공 시: true 반환
- 실패 시: 에러 메시지 표시

### 5. UI/UX 요구사항
- 비밀번호 변경 버튼: "비밀번호 변경" 텍스트
- 로딩 상태: 처리 중일 때 "변경 중..." 표시
- 성공 메시지: 변경 성공 시 알림 표시
- 에러 처리: GraphQL 에러 메시지 표시
- 폼 제출 후 입력 필드 초기화

### 6. 스타일 가이드
- 기존 secrets-mypage 컴포넌트 스타일과 일관성 유지
- 다크 테마 (#0a0a0a 배경, #c7a74a 골드 강조색)
- CSS 모듈 사용 (styles.module.css)
- 반응형 디자인 지원

## 구현 파일 구조

```
src/components/secrets-mypage/
├── prompts/
│   └── prompt.101.password-change.txt (이 파일)
├── password-change/
│   ├── index.tsx
│   └── styles.module.css
└── index.tsx (메인 컴포넌트에 섹션 추가)
```

## GraphQL Mutation 예시

```typescript
import { graphql } from '@/commons/graphql/gql';

const RESET_USER_PASSWORD = graphql(`
  mutation resetUserPassword($password: String!) {
    resetUserPassword(password: $password)
  }
`);
```

## 컴포넌트 구조

### PasswordChange 컴포넌트
- React 함수 컴포넌트
- "use client" 지시어 사용 (Next.js 클라이언트 컴포넌트)
- useState로 폼 상태 관리
- useMutation으로 GraphQL mutation 실행
- 폼 제출 핸들러 구현
- 유효성 검사 로직 구현

### 상태 관리
- newPassword: 새 비밀번호
- confirmPassword: 새 비밀번호 확인
- passwordError: 비밀번호 에러 메시지
- confirmPasswordError: 확인 비밀번호 에러 메시지
- isLoading: 로딩 상태
- successMessage: 성공 메시지

## 에러 처리
- GraphQL 에러: catch 블록에서 처리
- 네트워크 에러: 사용자에게 알림
- 유효성 검사 에러: 실시간 표시

## 보안 고려사항
- 비밀번호는 서버로 전송 전에 검증
- 민감한 정보는 콘솔에 로그하지 않음
- 성공 후 입력 필드 초기화





